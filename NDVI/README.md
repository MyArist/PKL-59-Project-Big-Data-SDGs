# Sentinel Data Retrieval

![Sentinel](../README/Sentinel%20Maps.png)

## Access via Download

The first one is by downloading the data directly from Copernicus open access dhus, [here](https://scihub.copernicus.eu/dhus/#/home), and the link for user guide [here](https://scihub.copernicus.eu/userguide/GraphicalUserInterface)

## Access via Cloud

The second one is to access via the Sentinel Data Products are available in the Copernicus Data and Information Access Service (DIAS) cloud environments. Difference is, if we access it via DIAS, we could use the provided processing resources, tools made available by each DIAS. Here is a list for all the available DIAS:

1. [Creodias](https://creodias.eu/)
2. [Onda](https://www.onda-dias.eu/cms/)
3. [Mundi](https://mundiwebservices.com/)
4. [Sobloo](https://sobloo.eu/)

Personally, I like creodias the most for its easy to understand display which directly shows the area covered by each product (available in both creodias browser and EO browser) and time-lapse function in EO browser.

## Access via Python

This method could be accomplished by using sentinelsat library, but it actually needs more effort than others since you need to define the latitude and longitude yourself, creating the polygon to select point of interest and all other task manually. On the other hand, you can use all the libraries and tools available on python which provide function not provided by DIAS. For more information, please access [here](https://sentinelsat.readthedocs.io/en/stable/api.html).

# Long Term Archive

The Data Hub Service implements the capability of requesting products removed from the online archives but available on the Long-Term Archives. Access to the product URL for data that are no longer available online will automatically trigger the retrieval from the LTA. The actual download can be initiated by the user once the data are restored (within 24 hours). A user quota on the maximum number of requests per hour per user is set.

Products restored from the long-term archives are kept online for a period of at least 3 days. Quota and keeping time will be fine-tuned according to the usage patterns to ensure efficient access to the most recent and frequently downloaded data. 

## Triggering the Retrieval of Offline Products

The download request of an offline product, automatically triggers the request for restoring the product back online from the LTA. Once restored (eg: online) the product(s) can be downloaded by the user.

# Data Products

SENTINEL-2 products available for users (either generated by the ground segment or by the SENTINEL-2 Toolbox) are listed below.

![Data Products](../README/Data%20Products.png)
 
The Level-2A processing includes a scene classification and an atmospheric correction applied to Top-Of-Atmosphere (TOA) Level-1C orthoimage products. Level-2A main output is an orthoimage Bottom-Of-Atmosphere (BOA) corrected reflectance product. Level-2A products are systematically generated at the ground segment over Europe since March 2018, and the production was extended to global in December 2018.  For older product, Level-2A generation can be performed by the user through the Sentinel-2 Toolbox using as input the associated Level-1C product.

## Why Level-2A?

The sun emits electromagnetic energy (EM) to the direction of Earth. The EM radiation that actually makes it to Earth is called incident energy. But some of this energy is also absorbed and scattered by gases and aerosols in the atmosphere before hitting the Earth’s surface. Any sensor that records EM radiation from the earth's surface using visible or near-visible radiation will typically record a mixture of two kinds of energy. The value recorded at any pixel location on a remotely sensed image does not represent the true ground-leaving radiance at that point. Part of the brightness is due to the reflectance of the target of interest and the remainder is derived from the brightness of the atmosphere itself.

To put it simply, EM recorded by satellite was not the real value but the value after being affected by atmosphere. In Sentinel, this is saved as Level-1C data. Since the condition of atmosphere always change every day, it means that the change in value are different each day which make time-based analysis biased. The solution to this problem is by using atmospheric correction to removes the scattering and absorption effects from the atmosphere to obtain the surface reflectance characterizing (surface properties).

## Level-2A Generation

Level-2A generation can be performed by the user through the Sentinel-2 Toolbox. http://step.esa.int/main/download/

1. Install sen2cor plugin

    ![Plugin](../README/1.%20Plugin.png)

2. Search and install Sen2Cor, make sure to activate

    ![Install](../README/2.%20Install%20sen2cor.png)

3. Use Sen2Cor to generate Level-2A

    ![Generate](../README/3.%20Generate%20Level-2A.png)

4. Select the xml file inside the SAFE folder

    ![Select](../README/4.%20Select%20xml%20File.png)

5. Choose the desired resolution and run (Check ‘Display execution output’ to monitor the progress).

    ![Resolution](../README/5.%20Choose%20Resolution.png)

# Result

![Sentinel](../README/NDVI%20Result.png)